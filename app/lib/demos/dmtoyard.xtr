VERSION 2
DEMOINIT
ORIG 4.000 0.000 0.000
PARAMETER display description-fontsize 24
PARAMETER turnout hide 1
STRAIGHT 1 DEMO 1
	E 3.666667 1.833333 270.000000
	E 41.833333 1.833333 90.000000
	END
REDRAW
RESET
MESSAGE
This example show how to layout a yard using the <Turnout> and <Parallel> commands.
END
STEP
COMMAND Turnout
MESSAGE
_________________________________________

You can resize and move the Turnout Selection dialog if it obscures the other windows.

First we place a turnout on the main line.
END
STEP
PARAMETER turnout list 0 Peco-55	SL-E395F	Medium Right
MOUSE 2 35.417 1.917
#BIGPAUSE
MOUSE 3 36.5 1.917
#BIGPAUSE
MOUSE 3 36.5 1.917
BIGPAUSE
MOUSE 4 36.5 1.917
PARAMETER turnout ok
RESET
MESSAGE
_________________________________________

Next extend the turnout with the <Modify> command.
END
STEP
COMMAND Modify
MOUSE 2 31.167 2.417
MOUSE 3 8.167 5.833
BIGPAUSE
MOUSE 4 8.167 5.833
MESSAGE
_________________________________________

Now create a track parallel to the main line.  Make sure the separation is reasonable for your scale.
END
STEP
COMMAND Parallel
PARAMETER parallel separation 1.25
MOUSE 2 23.083 1.917
PARAMETER parallel separation 1.250000
MOUSE 3 23.083 1.917
MOUSE 3 22.917 2.500
BIGPAUSE
MOUSE 4 22.917 2.500
RESET
MESSAGE
_________________________________________

And place a turnout to connect the new track.

We'll zoom in here to see what's going on.
END
STEP
#PAN 5 21.333 6.667
#PAN 7 23.333 1.000
ORIG 2.000 21.333 1.000
BIGPAUSE
COMMAND Turnout
PARAMETER turnout list 0 Peco-55	SL-E396F	Medium Left
MOUSE 1 29.500 2.542
MOUSE 2 29.500 2.542
MESSAGE
_________________________________________

Notice how we control which way the turnout is facing by moving the mouse across the center line of the track.

END
STEP
MOUSE 3 29.500 2.542
MOUSE 3 29.500 2.438
#MOUSE 3 29.604 2.583
BIGPAUSE
MOUSE 3 29.625 2.667
BIGPAUSE
MOUSE 3 29.500 2.438
BIGPAUSE
MOUSE 3 29.625 2.667
MESSAGE
_________________________________________

The Status bar displays the number of auto-connections that will be made and the maximum offset.

XTrackCAD adjusts the turnout position for the best fit to minimize any connection offset
END
STEP
MOUSE 4 29.625 2.667
#MOUSE 4 27.625 2.9
PARAMETER turnout ok
#RESET
MESSAGE
_________________________________________

Note that placing the turnout splits the parallel track.

We have to delete the leftover piece by Selecting and Deleting it.
END
STEP
#COMMAND Select
MOUSE 2 30.229 3.042
MOUSE 4 30.229 3.042
PARAMETER misc cmdDelete
BIGPAUSE
ORIG 4.000 0.000 0.000
MESSAGE
_________________________________________

Repeat the process for the other tracks in the yard.
END
STEP
BIGPAUSE
COMMAND Parallel
PARAMETER parallel separation 1.250
MOUSE 2 16.667 3.167
MOUSE 3 16.417 3.583
MOUSE 4 16.417 3.583
RESET
BIGPAUSE
ORIG 2.000 16.000 2.000
COMMAND Turnout
PARAMETER turnout list 0 Peco-55	SL-E396F	Medium Left
MOUSE 2 22.167 3.938
MOUSE 3 21.750 4.000
BIGPAUSE
MOUSE 4 21.750 4.000
PARAMETER turnout ok
#RESET
#COMMAND Select
MOUSE 2 22.688 4.438
MOUSE 4 22.688 4.438
PARAMETER misc cmdDelete
BIGPAUSE
ORIG 4.000 0.000 0.000
MESSAGE
_________________________________________

For the last track we will join with a curve instead of a turnout.
END
STEP
BIGPAUSE
COMMAND Parallel
PARAMETER parallel separation 1.250
MOUSE 1 10.750 4.333
MOUSE 2 10.750 4.333
MOUSE 3 10.750 5.000
MOUSE 4 10.750 5.000
RESET
#PAN 5 11.333 5.667
#PAN 6 12.000 5.667
#PAN 6 12.667 5.667
#PAN 7 12.667 6.667
BIGPAUSE
ORIG 2.0 5.0 4.0
PARAMETER misc cmdEasement
PARAMETER easement val -1.0
BIGPAUSE
PARAMETER easement ok
COMMAND Join
MOUSE 1 10.354 5.604
MOUSE 2 10.354 5.604
MOUSE 3  9.000 5.604
MOUSE 4  9.000 5.604
MOUSE 1 12.417 5.000
MOUSE 2 12.417 5.000
MOUSE 3 14.000 5.000
MOUSE 4 14.000 5.000
MOUSE 3336 14.000 5.000
BIGPAUSE
ORIG 4.000 0.000 0.000
MESSAGE
=========================================
END
REGRESSION START 10 - turnout yard
STRAIGHT 1 0 0 0 0 DEMO 2
	T4 4 36.500000 1.833333 270.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	E4 41.833333 1.833333 90.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	END
STRAIGHT 2 0 0 0 0 DEMO 2
	E4 3.666667 1.833333 270.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 4 31.095000 1.833333 90.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	END
TURNOUT  4 0 0 0 0 DEMO 2 36.500000 1.833333 0 180.000000 "Peco-55	Medium Right	SL-E395F"
	T4 1 36.500000 1.833333 90.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 2 31.095000 1.833333 270.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 5 31.130000 2.355333 279.686000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	D 0.000000 0.000000
	P "Normal" 1 2
	P "Reverse" 1 3 4
	S 0 0.000000 0.000000 0.000000 0.353000 0.000000
	S 0 0.000000 0.353000 0.000000 5.405000 0.000000
	C 0 0.000000 23.136000 0.351000 -23.136000 0.004000 9.700000
	S 0 0.000000 4.251000 -0.331000 5.370000 -0.522000
	END
STRAIGHT 5 0 0 0 0 DEMO 2
	T4 4 31.130000 2.355333 99.686000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 10 29.143471 2.694397 279.686000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	END
STRAIGHT 6 0 0 0 0 DEMO 2
	E4 3.666667 3.083333 270.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 10 23.762196 3.083333 90.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	END
STRAIGHT 7 0 0 0 0 DEMO 2
	T4 10 23.815521 3.603780 99.686000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 15 21.819895 3.944397 279.686000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	END
TURNOUT  10 0 0 0 0 DEMO 2 29.143471 2.694397 0 189.686000 "Peco-55	Medium Left	SL-E396F"
	T4 5 29.143471 2.694397 99.686000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 7 23.815521 3.603780 279.686000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 6 23.762196 3.083333 270.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	D 0.000000 0.000000
	P "Normal" 1 2
	P "Reverse" 1 3 4
	S 0 0.000000 0.000000 0.000000 0.353000 0.000000
	S 0 0.000000 0.353000 0.000000 5.405000 0.000000
	C 0 0.000000 -23.136000 0.351000 23.136000 170.297000 9.700000
	S 0 0.000000 4.251000 0.331000 5.370000 0.522000
	END
STRAIGHT 11 0 0 0 0 DEMO 2
	E4 3.666667 4.333333 270.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 15 16.438621 4.333333 90.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	END
STRAIGHT 12 0 0 0 0 DEMO 2
	T4 15 16.491945 4.853780 99.686000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 17 14.046290 5.271209 279.686000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	END
TURNOUT  15 0 0 0 0 DEMO 2 21.819895 3.944397 0 189.686000 "Peco-55	Medium Left	SL-E396F"
	T4 7 21.819895 3.944397 99.686000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 12 16.491945 4.853780 279.686000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 11 16.438621 4.333333 270.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	D 0.000000 0.000000
	P "Normal" 1 2
	P "Reverse" 1 3 4
	S 0 0.000000 0.000000 0.000000 0.353000 0.000000
	S 0 0.000000 0.353000 0.000000 5.405000 0.000000
	C 0 0.000000 -23.136000 0.351000 23.136000 170.297000 9.700000
	S 0 0.000000 4.251000 0.331000 5.370000 0.522000
	END
STRAIGHT 16 0 0 0 0 DEMO 2
	E4 3.666667 5.583333 270.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 17 9.000000 5.583333 90.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	END
CORNU 17 0 0 0 0 DEMO 2 9.000000 5.583333 270.000000 0.000000 0.000000 0.000000 14.046290 5.271209 99.686000 0.000000 0.000000 0.000000 
	T4 16 9.000000 5.583333 270.000000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	T4 12 14.046290 5.271209 99.686000 0 0.0 0.0 0.0 0.0 0 0 0 0.000000 
	W3 0 0.000000 9.000000 5.583333 9.844213 5.583333 10.688875 5.595997 11.532347 5.560635
	SUBSEGS
	C 0 0.000000 60.451079 9.724476 -54.863405 359.313322 2.400441
	SUBSEND
	W3 0 0.000000 11.532347 5.560635 12.375820 5.525273 13.214112 5.413246 14.046290 5.271209
	SUBSEGS
	C 0 0.000000 19.919595 10.515659 -14.332997 2.925627 7.283654
	SUBSEND
	END
REGRESSION END
STEP
CLEAR
